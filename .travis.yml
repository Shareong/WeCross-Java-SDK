# safelist
branches:
    only:
        - /.*/
matrix:
    fast_finish: true
    include:
        -   language: python
            python: 3.6
            dist: xenial
            before_cache:
            cache:
            before_install:
            script: |
                bash .ci/ci_check_commit.sh

        -   language: java
            jdk: openjdk8
            os: linux
            dist: xenial
            sudo: required

        -   language: java
            jdk: openjdk9
            os: linux
            dist: xenial
            sudo: required

        -   language: java
            jdk: openjdk10
            os: linux
            dist: xenial
            sudo: required

        -   language: java
            jdk: openjdk11
            os: linux
            dist: xenial
            sudo: required

        # - language: java
        #   jdk: openjdk11
        #   os: osx
        #   before_install:
        #     - brew install gradle && gradle wrapper

before_cache:
    - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
    - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
    directories:
        - $HOME/.gradle/caches/
        - $HOME/.gradle/wrapper/
before_install:
    - gradle wrapper

addons:
    sonarcloud:
        organization: "shareong"
        token:
            secure: "yW1+l1ecjMZsR2hOtMloxBUvG0auKvO6xxdMtWZz4cqMqENGSaaTWULSVGACF5nRzxpHKQ9GkiZOoYP6+WGl4j9i80I6OFFtHtX3lwDP/WMy1Io88HAO5wp7LpEQCFWXQZph0J3AlQFUhQGblpvo1s5//L5jGsrZWYURCHPmZ/pUkSFxoM5NDx2KuRtst/7Dedyts2ItcI41t+0f+NEZH8RamK21Y3fOqODMYirEZSnaG0WOUOdI/1lD1hIWwkxYKOXOgViH8VkV+1m9gByNcIRskRcA3i/2YtFNCgVt/n6MfdTVWbdcCMf3t8G3C8tsM5Aix2p7WcWQFXfEGGPNYxne1I4NxcK+hoe/J70+u25h89WUTB7Ddzuq+RQgxj1nuWaj047mo56HOb6KLylExLo2eCXAOudkIJ8kvpBO9CQKkjdI+f1qbxnCEPSCTbaRG58oNgLGO5RVhNHuVg6hYuwAbBcAJpxVpzRygLEneqjFGfo3l1Ls/Zf5r2uu2atSNJMLwDI5xUksybAfa/FLZRz+kTQP/hz3sJn7c3AYVzB0YXZKK0vkW/Gduv89Rep6TSElwE5cJ5XdS/lOTfiu+L8b2asn1xM5oU2CK6F4R1qA4nr4XsyKT1ZUcd1eWtvOgKZINbPWD1UqaaVMwDtPGe70wUYV3lB9Nh2p9fLp7Eg="

script: |
    sonar-scanner && bash .ci/ci_check.sh


after_success:
    - bash <(curl -s https://codecov.io/bash)